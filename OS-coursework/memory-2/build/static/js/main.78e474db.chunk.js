(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,t,n){},15:function(e,t,n){},17:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),o=n(7),r=n.n(o),l=(n(14),n(1)),u=n(2),s=n(4),c=n(3),m=n(5),h=(n(15),n(16),function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(s.a)(this,Object(c.a)(t).call(this,e))).initial_helper=function(e){for(var t=Array(e),n=0;n<e;n++)t[n]=n;return t},n.onLengthChange=function(e){n.setState({maxPosition:parseInt(e.target.value)})},n.onLengthSubmit=function(e){e.preventDefault();var t=n.initial_helper(0),a=n.initial_helper(n.state.maxPosition);n.setState({inMain:t,outMain:a,currentPosition:0,currentFault:0,memorySize:4,strategy:"FIFO"})},n.OnNextOne=function(e){var t=n.state.currentPosition+1;t>=10*n.state.maxPosition&&(t=10*n.state.maxPosition-1),n.setState({currentPosition:t}),n.virtual_memory_schedual(t)},n.OnPreviousOne=function(e){var t=n.state.currentPosition-1;t<0&&(t=0),n.setState({currentPosition:t}),n.virtual_memory_schedual(t)},n.onChange=function(e){var t=e.target.value;t<0?t=0:t>=10*n.state.maxPosition&&(t=10*n.state.maxPosition-1),n.setState({currentPosition:t})},n.onPositionSubmit=function(e){e.preventDefault(),n.virtual_memory_schedual(n.state.currentPosition)},n.virtual_memory_schedual=function(e){console.log("finding #"+e);var t=Math.floor(e/10),a=n.state.inMain.slice(),i=n.state.outMain.slice(),o=n.state.strategy.slice(),r=a.indexOf(t);if(-1===r)if(n.setState({currentFault:n.state.currentFault+1}),4===a.length){var l=i.indexOf(t);if(i.splice(l,1),"FIFO"===o){a.push(t);var u=a.shift();i.push(u)}else{a.unshift(t);var s=a.pop();i.push(s)}}else{var c=i.indexOf(t);i.splice(c,1),"FIFO"===o?a.push(t):a.unshift(t)}else"LRU"===o&&(a.splice(r,1),a.unshift(t));n.setState({inMain:a,outMain:i})},n.onReset=function(e){n.setState({currentFault:0})},n.handleStrategy=function(e){n.setState({strategy:e.target.value})},n.state={inMain:n.initial_helper(0),outMain:n.initial_helper(32),currentPosition:0,maxPosition:32,currentFault:0,memorySize:4,strategy:"FIFO"},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"container"},i.a.createElement("div",{className:"columns"},i.a.createElement("div",{className:"column is-one-third"},i.a.createElement("h2",null,"MEMORY SIZE IS 4!"),i.a.createElement("h2",null,"EACH BLOCK CONTAINS 10 INSTRUCTIONS"),i.a.createElement(v,{handleStrategy:this.handleStrategy}),i.a.createElement(g,{onLengthChange:this.onLengthChange,onLengthSubmit:this.onLengthSubmit,Length:this.state.maxPosition,OnNextOne:this.OnNextOne,OnPreviousOne:this.OnPreviousOne,onChange:this.onChange,position:this.state.currentPosition,max_position:this.state.maxPosition,current_fault:this.state.currentFault,onReset:this.onReset,PositionSubmit:this.onPositionSubmit})),i.a.createElement("div",{className:"column"},i.a.createElement(f,{memo:this.state.inMain,target:Math.floor(this.state.currentPosition/10)})),i.a.createElement("div",{className:"column"},i.a.createElement(f,{memo:this.state.outMain,target:Math.floor(this.state.currentPosition/10)}))))}}]),t}(i.a.Component)),v=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"select"},i.a.createElement("select",{onChange:this.props.handleStrategy},i.a.createElement("option",{value:"FIFO"},"FIFO"),i.a.createElement("option",{value:"LRU"},"LRU")))}}]),t}(i.a.Component);function f(e){for(var t=Math.floor(e.memo.length/5),n=e.memo.slice(),a=[],o=0,r=0;r<t;r++){for(var l=[],u=0;u<5;u++)l.push(n[o]),o++;a.push(l)}for(var s=[];o<n.length;)s.push(n[o]),o++;0!==s.length&&a.push(s);var c={width:"70px"};return i.a.createElement("div",null,a.map(function(t,n){return i.a.createElement("div",{key:n.toString()},t.map(function(t,n){var a=null;return a=t!==e.target?t:i.a.createElement("font",{color:"red"},t),i.a.createElement("button",{key:n,style:c},a)}))}))}function g(e){return i.a.createElement("div",null,i.a.createElement(p,{onLengthChange:e.onLengthChange,onLengthSubmit:e.onLengthSubmit,length:e.Length}),i.a.createElement(E,{OnNextOne:e.OnNextOne,OnPreviousOne:e.OnPreviousOne,onChange:e.onChange,position:e.position,max_position:e.max_position,handleSubmit:e.PositionSubmit}),i.a.createElement(d,{current_fault:e.current_fault}),i.a.createElement(O,{onReset:e.onReset}))}function p(e){var t=e.onLengthChange,n=e.onLengthSubmit,a=e.length;if(a<0)throw new Error("Length is negative");return i.a.createElement("div",null,i.a.createElement("label",null,"How many blocks do you like?"),i.a.createElement("form",{onSubmit:n},i.a.createElement("input",{type:"number",value:a,onChange:t}),i.a.createElement("input",{type:"submit",value:"OK"})))}function E(e){var t=e.max_position,n=e.onChange,a=e.OnNextOne,o=e.OnPreviousOne,r=e.position,l=e.handleSubmit;if(r>10*t)throw new Error("Position exceed!");return i.a.createElement("div",null,i.a.createElement("label",null,"Current position of the program."),i.a.createElement("form",{onSubmit:l},i.a.createElement("input",{type:"number",value:r,onChange:n}),i.a.createElement("button",{type:"submit"},"OK")),i.a.createElement("div",null,i.a.createElement("button",{onClick:a},"Next instruction"),i.a.createElement("button",{onClick:o},"Previous instruction")))}function O(e){var t=e.onReset;return i.a.createElement("div",null,i.a.createElement("label",null,"Reset the ",i.a.createElement("b",null,"fault number")),i.a.createElement("button",{onClick:t},"Reset"))}function d(e){var t=e.current_fault;return i.a.createElement("label",null,t)}var b=h;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(i.a.createElement(b,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},8:function(e,t,n){e.exports=n(17)}},[[8,1,2]]]);
//# sourceMappingURL=main.78e474db.chunk.js.map